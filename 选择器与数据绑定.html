<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <title>选择器与数据绑定</title>
</head>

<body>
    <!-- 选择器 -->
    <h3></h3>
    <h4 id="h4"></h4>
    <h3 title="author"></h3>
    <h3 class="date"></h3>

    <!-- 数据绑定 datum -->
    <p></p>
    <p></p>
    <p></p>
    <p></p>
    <p></p>
    <p></p>
    <p></p>
    <h2></h2>
    <h2></h2>
    <h2></h2>
    <h2></h2>
    <h2></h2>
    <h2></h2>
    <h2></h2>
    <h2></h2>
    <h2></h2>
    <h2></h2>
    <h2></h2>
    <h2></h2>
    <h2></h2>

    <!-- 数据绑定 datum -->
    <h1></h1>
    <h1></h1>
    <h1></h1>
    <h1></h1>
    <h1></h1>


</body>
<script>
    /**
     * 选择器
     * d3.selectAll() 
     * d3.select()
     * */
    var h3 = d3.select("body").selectAll("h3")
    var h4 = d3.select("h4")
    var author = d3.select("[title='author']")
    var date = d3.select(".date")
    h3.text("竹杖芒鞋轻胜马，谁怕")
    h4.text("一蓑烟雨任平生")
    author.text("苏轼")
    date.text("2021-09-20")

    /**
     * 数据绑定
     * d3.datum()
    */
    var p = d3.select("body").selectAll("p")
    var h2 = d3.select("body").selectAll("h2")
    p.datum("今天是2021-09-20").text((v, i) => {
        return `我是第${i}个P标签，内容为：${v}`
    })
    h2.data("今天是2021-09-20").text((d,i)=>{
        return `我是第${i}个P标签，内容为：${d}`
    })

/***
 * datum()  和  data()  的区别
 * data() 中数据与选择集元素是一一对应关系；
 * datum() 中是数据对应所有（多个）选择集元素；
*/
    /**
     * 数据绑定
     * d3.data()
    */
    var lyrics = [
        '莫听穿林打叶声',
        '何妨吟啸且徐行',
        '竹杖芒鞋轻胜马，谁怕？一蓑烟雨任平生。',
        '料峭春风吹酒醒，微冷，',
        '山头斜照却相迎。回首向来萧瑟处，归去，也无风雨也无晴。'
    ];
    var h1 = d3.selectAll("h1")
    h1.data(lyrics).text((d,i)=>{
        return `${i}：${d}`
    })



</script>

</html>